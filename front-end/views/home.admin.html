<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestión de Alumnos (Admin)</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <style>
      .profile-img {
        width: 100px;
        height: 100px;
        object-fit: cover;
        border-radius: 50%;
        border: 3px solid #0d6efd; /* Color primario de Bootstrap */
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <!--Aqui va un navbar -->
    <header id="header"></header>

    <main class="container mt-5">
      <h1 class="mb-4 text-primary">Alumnos Registrados</h1>
      <hr />

      <div
        id="alumnos-grid"
        class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"
      >
        <!-- Aqui se van a insertar los alumnos -->

        <!-- Esta es la tarjeta del estudiante -->
        <div class="card shadow-sm h-100 border-primary">
          <div
            class="card-body d-flex flex-column align-items-center text-center"
          >
            <img
              src="https://placehold.co/200"
              class="profile-img"
              alt="Foto de Perfil"
            />
            <h5 class="card-title text-primary">Jose Alfredo Jimenez</h5>
            <h6 class="card-subtitle mb-2 text-muted">Ingenieria Industrial</h6>
            <ul class="list-group list-group-flush w-100 text-start mt-2">
              <li class="list-group-item">
                <strong>Matrícula:</strong> M20VE505
              </li>
              <li class="list-group-item"><strong>Semestre:</strong> 4</li>
              <li class="list-group-item">
                <strong>Email:</strong>
                <a href="mailto:email-del-alumno">jose.alfredo@email.com</a>
              </li>
              <li class="list-group-item">
                <strong>Teléfono:</strong> 512340002
              </li>
              <li class="list-group-item">
                <strong>Ingreso:</strong> formatFecha( fecha de ingreso del
                alumno )
              </li>
              <li class="list-group-item">
                <strong>Estado:</strong>
                <span class="${estadoClass}"
                  ><strong
                    >(Mostrar icono de estado) (Mostrar estado del
                    alumno)</strong
                  ></span
                >
              </li>
            </ul>
          </div>
          <div class="card-footer text-center">
            <a href="/alumno/id-del-alumno" class="btn btn-sm btn-outline-primary">Ver Detalles</a>
          </div>
        </div>
      </div>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script src="/scripts/navbar.js"></script>

    <script>
      // Datos de los alumnos (copiados del JSON proporcionado)
      const alumnosData = [
        {
          id: "c01a2b3c-d4e5-4f6a-7b8c-9d0e1f2a3b4c",
          matricula: "M21IS101",
          nombre: "Javier",
          apellidoPaterno: "Gómez",
          apellidoMaterno: "Sánchez",
          fechaNacimiento: "2001-08-10T00:00:00.000Z",
          email: "javier.gomez@mail.com",
          carreraPrograma: "Ingeniería de Software",
          semestre: 5,
          fechaIngreso: "2021-08-15T00:00:00.000Z",
          telefono: "5523451010",
          estado: "activo",
          materiasInscritas: ["Base de Datos", "Algoritmos"],
          perfil: "https://placehold.co/200",
        },
        {
          id: "e6f7g8h9-i0j1-k2l3-m4n5-o6p7q8r9s0t1",
          matricula: "M22AR202",
          nombre: "Sofía",
          apellidoPaterno: "López",
          apellidoMaterno: "Díaz",
          fechaNacimiento: "2002-01-15T00:00:00.000Z",
          email: "sofia.lopez@mail.com",
          carreraPrograma: "Arquitectura",
          semestre: 3,
          fechaIngreso: "2022-01-20T00:00:00.000Z",
          telefono: "5534562020",
          estado: "activo",
          materiasInscritas: ["Dibujo Técnico", "Historia del Arte"],
          perfil: "https://placehold.co/200",
        },
        {
          id: "a1b2c3d4-e5f6-7g8h-9i0j-k1l2m3n4o5p6",
          matricula: "M19VE909",
          nombre: "Ricardo",
          apellidoPaterno: "Vargas",
          apellidoMaterno: "Ramos",
          fechaNacimiento: "1999-11-20T00:00:00.000Z",
          email: "ricardo.vargas9@mail.com",
          carreraPrograma: "Diseño Gráfico",
          semestre: 9,
          fechaIngreso: "2019-08-15T00:00:00.000Z",
          telefono: "5512349090",
          estado: "activo",
          materiasInscritas: ["Fotografía", "Animación"],
          perfil: "https://placehold.co/200",
        },
        {
          id: "b2c3d4e5-f6a7-8b9c-0d1e-2f3a4b5c6d7e",
          matricula: "M23MT303",
          nombre: "Ana",
          apellidoPaterno: "Méndez",
          apellidoMaterno: "Rojas",
          fechaNacimiento: "2003-05-30T00:00:00.000Z",
          email: "ana.mendez@mail.com",
          carreraPrograma: "Matemáticas Aplicadas",
          semestre: 1,
          fechaIngreso: "2023-08-15T00:00:00.000Z",
          telefono: "5545673030",
          estado: "activo",
          materiasInscritas: ["Cálculo I", "Álgebra Lineal"],
          perfil: "https://placehold.co/200",
        },
        {
          id: "c3d4e5f6-a7b8-c9d0-e1f2-g3h4i5j6k7l8",
          matricula: "M20ME404",
          nombre: "Carlos",
          apellidoPaterno: "Pérez",
          apellidoMaterno: "García",
          fechaNacimiento: "2000-09-05T00:00:00.000Z",
          email: "carlos.perez@mail.com",
          carreraPrograma: "Ingeniería Mecánica",
          semestre: 7,
          fechaIngreso: "2020-08-15T00:00:00.000Z",
          telefono: "5556784040",
          estado: "inactivo",
          materiasInscritas: ["Termodinámica"],
          perfil: "https://placehold.co/200",
        },
        {
          id: "d4e5f6a7-b8c9-d0e1-f2g3-h4i5j6k7l8m9",
          matricula: "M21AD505",
          nombre: "Laura",
          apellidoPaterno: "Hernández",
          apellidoMaterno: "Castro",
          fechaNacimiento: "2001-04-12T00:00:00.000Z",
          email: "laura.hernandez@mail.com",
          carreraPrograma: "Administración de Empresas",
          semestre: 5,
          fechaIngreso: "2021-01-20T00:00:00.000Z",
          telefono: "5567895050",
          estado: "activo",
          materiasInscritas: ["Contabilidad", "Marketing"],
          perfil: "https://placehold.co/200",
        },
        {
          id: "e5f6a7b8-c9d0-e1f2-g3h4-i5j6k7l8m9n0",
          matricula: "M22LH606",
          nombre: "Miguel",
          apellidoPaterno: "Ramírez",
          apellidoMaterno: "Torres",
          fechaNacimiento: "2002-07-28T00:00:00.000Z",
          email: "miguel.ramirez@mail.com",
          carreraPrograma: "Lenguas Hispanas",
          semestre: 3,
          fechaIngreso: "2022-08-15T00:00:00.000Z",
          telefono: "5578906060",
          estado: "activo",
          materiasInscritas: ["Gramática", "Literatura"],
          perfil: "https://placehold.co/200",
        },
        {
          id: "f6a7b8c9-d0e1-f2g3-h4i5-j6k7l8m9n0o1",
          matricula: "M20IN707",
          nombre: "Elena",
          apellidoPaterno: "Vargas",
          apellidoMaterno: "Ramos",
          fechaNacimiento: "2000-03-25T00:00:00.000Z",
          email: "elena.vargasv7@mail.com",
          carreraPrograma: "Ingeniería Industrial",
          semestre: 7,
          fechaIngreso: "2020-08-15T00:00:00.000Z",
          telefono: "5589017070",
          estado: "baja temporal",
          materiasInscritas: ["Logística"],
          perfil: "https://placehold.co/200",
        },
        {
          id: "g7b8c9d0-e1f2-g3h4-i5j6-k7l8m9n0o1p2",
          matricula: "M23CI808",
          nombre: "Roberto",
          apellidoPaterno: "Castro",
          apellidoMaterno: "Morales",
          fechaNacimiento: "2003-12-01T00:00:00.000Z",
          email: "roberto.castro@mail.com",
          carreraPrograma: "Ciencias de la Comunicación",
          semestre: 1,
          fechaIngreso: "2023-01-20T00:00:00.000Z",
          telefono: "5590128080",
          estado: "activo",
          materiasInscritas: [],
          perfil: "https://placehold.co/200",
        },
      ];

      // Función para formatear la fecha a un formato más legible
      function formatFecha(dateString) {
        if (!dateString) return "N/A";
        const date = new Date(dateString);
        return date.toLocaleDateString("es-ES", {
          year: "numeric",
          month: "long",
          day: "numeric",
        });
      }

      const obtenerEstado = (estado = "") => {
        if (estado === "activo") {
          return { claseEstado: "text-success", estadoIcono: "✅" };
        } else if (estado === "inactivo") {
          return { claseEstado: "text-danger", estadoIcono: "❌" };
        } else {
          return { claseEstado: "text-warning", estadoIcono: "⚠️" };
        }
      };

      const alumnosGrid = document.getElementById("alumnos-grid");

      alumnosData.forEach((alumno) => {
        // Crear el elemento de la columna para el grid de Bootstrap
        const card = document.createElement("div");
        card.classList.add("col");

        // Determinar la clase para el estado
        const { claseEstado, estadoIcono } = obtenerEstado(alumno.estado);

        // Crear el contenido de la tarjeta con clases de Bootstrap
        card.innerHTML = `
                <div class="card shadow-sm h-100 border-primary">
                    <div class="card-body d-flex flex-column align-items-center text-center">
                        <img src="${
                          alumno.perfil
                        }" class="profile-img" alt="Foto de Perfil">
                        <h5 class="card-title text-primary">${alumno.nombre} ${
          alumno.apellidoPaterno
        }</h5>
                        <h6 class="card-subtitle mb-2 text-muted">${
                          alumno.carreraPrograma
                        }</h6>
                        <ul class="list-group list-group-flush w-100 text-start mt-2">
                            <li class="list-group-item"><strong>Matrícula:</strong> ${
                              alumno.matricula
                            }</li>
                            <li class="list-group-item"><strong>Semestre:</strong> ${
                              alumno.semestre
                            }</li>
                            <li class="list-group-item"><strong>Email:</strong> <a href="mailto:${
                              alumno.email
                            }">${alumno.email}</a></li>
                            <li class="list-group-item"><strong>Teléfono:</strong> ${
                              alumno.telefono
                            }</li>
                            <li class="list-group-item"><strong>Ingreso:</strong> ${formatFecha(
                              alumno.fechaIngreso
                            )}</li>
                            <li class="list-group-item"><strong>Estado:</strong> <span class="${claseEstado}"><strong>${estadoIcono} ${alumno.estado.toUpperCase()}</strong></span></li>
                        </ul>
                    </div>
                    <div class="card-footer text-center">
                        <a href="alumno/${
                          alumno.id
                        }" class="btn btn-sm btn-outline-primary">Ver Detalles</a>
                    </div>
                </div>
            `;
        alumnosGrid.appendChild(card);
      });
    
    </script>
  </body>
</html>
